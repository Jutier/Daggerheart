<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>GM Screen by Jutier</title>
		<link rel="icon" href="https://www.daggerheart.com/wp-content/uploads/2024/08/favicon-256x256-1.png">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Faculty+Glyphic&family=Quicksand:wght@300..700&display=swap">
		<style>
			/* Document */
				:root {
					--color-text: #212121;
					--color-card-bg: #e6e6e6;
					--color-li-bg: #dddddd;
					--color-alpha: rgba(0, 0, 0, 0.5);
					--color-gradient-start: #60d7c3;
					--color-gradient-middle: #1679c5;
					--color-gradient-end: #263197;
					--color-fear: #985eee;
					--color-hope: #f7d951;
					--color-crit: #e07a36;
					--color-card-title: #825837;
					--color-accent-1: #4d3ead;
					--color-accent-2: #1f89d1;
					--color-main-line: #5878ed;
					--color-resources-line: #94e64e;
					--color-combat-line: #e6604e;
				}
				.dark-mode{
					--color-text: #dedede;
					--color-card-bg: #1a1a1a;
					--color-li-bg: #2a2a2a;
					--color-alpha: rgba(0, 0, 0, 0.5);
					--color-gradient-start: #60d7c3;
					--color-gradient-middle: #1679c5;
					--color-gradient-end: #263197;
					--color-fear: #985eee;
					--color-hope: #f7d951;
					--color-crit: #e07a36;
					--color-card-title: #6fc7ed;
					--color-accent-1: #57412c;
					--color-accent-2: #f6eb51;
					--color-main-line: #5878ed;
					--color-resources-line: #94e64e;
					--color-combat-line: #e6604e;
				}
				html{
					font-size: clamp(14px, 1.05vw, 40px);
					overflow: hidden;
				}
				body{
				/* Font*/
					font-family: "Quicksand", sans-serif;
					font-style: normal;
					color: var(--color-text);
				/* Alignment */
					height: 100vh;
					display: flex;
					flex-wrap: wrap;
					align-items: flex-start;
					margin: 0;
				/* Background */
					background-color: var(--color-alpha);
					background-image: url(https://www.enworld.org/attachments/daggerheart-2-jpg.406132/);
					background-position: center bottom;
					background-size: cover;
					background-attachment: fixed;
				/* Scroll Snap */
					overflow-y: scroll;
					scroll-snap-type: y proximity;
					overscroll-behavior-y: contain;
				}
				::-webkit-scrollbar{
					display: none;
				}
				.print-footer{
					display: none;
					width: calc(100vw - 4rem);
					height: 1.5rem;
					position: fixed;
					background-color: var(--color-fear);
					color: var(--color-hope);
					font-size: 1rem;
					justify-content: space-between;
					padding: 0 2rem;
					bottom: 0;
					z-index: 100;
				}


			/* Menu */
				.hotzone{
					position: fixed;
					top: 0;
					left: 0;
					width: 1rem;
					height: 100vh;
				}
				.floating-menu{
					position: fixed;
					left: -50px;
					top: 50%;
					transform: translateY(-50%);
					opacity: 0;
					transition: left 0.35s cubic-bezier(.3,.95,.59,1.18), opacity 0.2s;
					background: var(--color-alpha);
					box-shadow: 0 0 0 0 var(--color-fear);
					padding: 0.5em;
					border-radius: 0 10px 10px 0;
					display: flex;
					flex-direction: column;
					gap: 0.3em;
					pointer-events: none;
				}
				.hotzone:hover ~ .floating-menu, .floating-menu:hover{
					left: -5px;
					opacity: 0.8;
					pointer-events: auto;
				}
				.floating-menu button{
					height: 2rem;
					width: 2rem;
					padding: 0;
					border-radius: 2rem;
					background: var(--color-fear);
					color: var(--color-hope);
					border: none;
					margin: 0;
					font-size: 1rem;
					cursor: pointer;
					transition: background 0.2s;
				}
				.floating-menu.left-menu button:hover{
					background: var(--color-hope);
					color: var(--color-fear);
				}


			/* Resources */
				.hope, .fear{
					color: var(--color-alpha);
					padding: 0 5px;
					font-weight: 600;
					border-radius: 15px;
				}
				.hope{
					background-color: var(--color-hope);

				}
				.fear{
					background-color: var(--color-fear);
				}
				.crit{
					font-weight: 600;
					color: var(--color-crit);
				}
				.stronger{
					font-weight: 600;
				}


			/* Difficulty */
				.slopes{
					display: inline-flex;
					flex-direction: column;
					justify-content: center;
					width: 4rem;
					background: linear-gradient(
						200deg,
						var(--color-gradient-start),
						var(--color-gradient-middle),
						var(--color-gradient-end)
					);
					border-radius: 0 0 7px 7px;
					color: white;
					font-weight: bold;
					font-size: 1.8rem;
				}
				.too-easy{
					height: 2.694rem;
					clip-path: polygon(0% 0.51rem, 100% 0.3rem, 100% 100%, 0% 100%);
				}
				.easy{
					height: 2.694rem;
					clip-path: polygon(0% 0.3rem, 100% 0%, 100% 100%, 0% 100%);
				}
				.average{
					height: 3.13rem;
					clip-path: polygon(0% 0.437rem, 100% 0%, 100% 100%, 0% 100%);
				}
				.hard{
					height: 3.641rem;
					clip-path: polygon(0% 0.509rem, 100% 0%, 100% 100%, 0% 100%);
				}
				.too-hard{
					height: 4.367rem;
					clip-path: polygon(0% 0.728rem, 100% 0%, 100% 100%, 0% 100%);
				}
				.dif-list{
					margin: 0 auto;
					padding: 1rem;
					display: flex;
					align-items: flex-end;
					list-style: none;
					gap: 0.2rem;
				}
				.dif-list li{
					text-align: center;
				}
				.dif-crit{
					padding: 1rem;
					border: 3px solid var(--color-crit);
					box-shadow: 0 0 0 3px var(--color-hope), 0 0 0 3px var(--color-fear) inset;
					border-radius: 20px;
					align-self: center;
					margin: 0 0 0 1.2rem;
				}


			/* Elements */
				p{
					margin: 0.5rem;
				}
				.card{
					width: 30rem;
					border: 3px solid var(--color-accent-1);
					border-radius: 15px;
					background-color: var(--color-card-bg);
					box-sizing: border-box;
					margin: 0rem;
				}	
				.card h2{
					color: var(--color-card-title);
					font-family: "Faculty Glyphic", sans-serif;
					font-weight: 700;
					padding: 0.5rem 0 0.5rem 1rem;
					margin: 0;
				}
				h3#m-action{
					margin: 0 0 0 .5rem;
				}


			/* Table */
				table{
					margin: 1rem auto;
						border-collapse: collapse;
						table-layout: fixed;
					list-style: none;

				}
				th, td{
					border: 2px solid var(--color-accent-2);
					padding: 0.5rem;
				}
				li p{
					margin: 0.5rem 0 0 0;
				}


			/* Lists */
				.desc-list{
					list-style: none;
					padding-left: 0;
					margin: 1rem 1rem;
				}
				.desc-list li{
					padding: 0.5rem;
					margin: 0.5rem 0;
					border-left: 4px solid var(--color-accent-1);
					background: var(--color-li-bg);
					border-radius: 10px;
				}
				.desc-list li h3{
					margin: 0 0 0 0;
				}
				.round li{
					border-radius: 100px;
					border-color: var(--color-accent-2);
				}


			/* Inputs */
				.card textarea{
					width: 100%;
					min-height: 3rem;
					resize: vertical;
					background: inherit;
					color: inherit;
					border: none;
					outline: none;
					font-size: 1rem;
					padding: 0.3rem;
					margin: 0;
					box-sizing: border-box;
					border-radius: 10px;
				}


			/* Groups */
				.group {
					display: flex;
					justify-content: space-between;
					width: 100vw;
					scroll-snap-align: start;
					overflow: hidden;
				}
				.inner {
					margin: 0.5rem;
					display: flex;
					height: calc(100vh - 1rem);
					flex-direction: column;
					justify-content: space-between;
				}
				.main div .card h2{
					border-bottom: 3px solid var(--color-main-line);
				}
				.resources div .card h2{
					border-bottom: 3px solid var(--color-resources-line);
				}
				.combat div .card h2{
					border-bottom: 3px solid var(--color-combat-line);
				}


			/* Mobile */
				@media (max-width: 600px){
					html{
						font-size: clamp(12px, 3.333vw, 40px);
						overflow: visible;
					}
					body{
						display: block;
					}
					.group{
						display: block;
					}
					.inner{
						margin: 0;
						display: block;
						height: inherit;
					}
					.card{
						margin: 1rem 0;
					}
				}


			/* Print */
				@media print{
					@page{
						size: 1920px 1080px;
					}
					html{
						overflow: visible;
					}
					.group{
						width: 100vw;
					}
					.inner{
						padding-bottom: 1.2rem;
						box-sizing: border-box;
					}
					.card{
						margin: 0rem;
					}
					.print-footer{
						display: flex;
					}
					.hotzone, .floating-menu{
						display: none !important;
						pointer-events: none !important;
					}
				}
		</style>
	</head>
	<body id="body">
		<div class="hotzone"></div>
		<div class="floating-menu left-menu">
			<button id="add-card-btn" onclick="newCard()">‚úèÔ∏è</button>
			<button onclick="toggleDark()">üåó</button>
		</div>
		<section class="group main">
			<div class="inner">
				<div class="card">
					<h2>Dificuldade</h2>
					<ul class="dif-list">
						<li>
							4%<br>
							<span class="slopes too-easy">5</span><br>
						</li>
						<li>
							25%<br>
							<span class="slopes easy">10</span><br>
						</li>
						<li>
							62%<br>
							<span class="slopes average">15</span><br>
						</li>
						<li>
							90%<br>
							<span class="slopes hard">20</span><br>
						</li>
						<li>
							100%<br>
							<span class="slopes too-hard">25</span><br>
						</li>
			  			<li class="dif-crit">
							Cr√≠tico<br>
							8.33%
						</li>
					</ul>
				</div>

				<div class="card">
					<h2>Rolagens</h2>
					<ul class="desc-list">
						<li>
							<h3>A√ß√£o</h3>
							Atributo -> Dificuldade -> (Des)Vantagem -><br>
							Declarar mod. -> Rola Dualidade -> Soma mod. -> <span class="hope">H</span>/<span class="fear">F</span><br>
							<p><span class="crit">Cr√≠tico</span>: Recebe <span class="hope">Hope</span> e reduz um <span class="stronger">Estresse</span></p>
						</li>
						<li>
							<h3>Rea√ß√£o</h3>
							Iguais √† A√ß√£o, mas n√£o gera <span class="hope">H</span>/<span class="fear">F</span>
						</li>
						<li>
							<h3>Ataque</h3>
							Rola 2d12 +<span class="stronger">Atributo</span> contra a <span class="stronger">Dificuldade</span>/<span class="stronger">Evas√£o</span> do alvo
							<p><span class="crit">Cr√≠tico</span>: Soma o potencial m√°ximo de dano</p>
						</li>
						<li>
							<h3>Dano</h3>
							Rola um n√∫mero de dados igual a sua <span class="stronger">Proefici√™ncia</span>/<span class="stronger">SpellCast</span>
						</li>
					</ul>
				</div>
			</div>
			<div class="inner">
				<div class="card">
					<h2>Atributos de Personagem</h2>
					<ul class="desc-list round">
						<li><strong>Agilidade:</strong> Correr, saltar, manobrar</li>
						<li><strong>For√ßa:</strong> Levantar, quebrar, segurar</li>
						<li><strong>Finesse:</strong> Destreza, tato, delicadeza</li>
						<li><strong>Instinto:</strong> Perceber, sentir, sobreviver</li>
						<li><strong>Presen√ßa:</strong> Encantar, inspirar, enganar</li>
						<li><strong>Conhecimento:</strong> Recordar, analisar, compreender</li>
					</ul>
				</div>

				<div class="card">
					<h2>Armadura & Estresse</h2>
					<p>
						<span class="stronger">Armadura</span> pode ser usada, uma vez por impacto,<br>
						para reduzir o limiar de dano de um ataque
					</p>
					<p>
						Quando seu <span class="stronger">Estresse</span> est√° cheio voc√™ fica vulner√°vel,<br>
						se receber outro perde um ponto de vida
					</p>
				</div>
			</div>
			<div class="inner">
				<div class="card">
					<h2>Refer√™ncia de Pre√ßos</h2>
					<p style="text-align: center;">100 <strong>Punhados</strong> = 10 <strong>Sacos</strong> = 1 <strong>Ba√∫</strong></p>
					<table style="margin: 0 auto 1rem auto;">
						<thead>
							<tr>
								<th>Item / Servi√ßo</th>
								<th>Custo</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Refei√ß√£o para o grupo</td>
								<td>1 Punhado</td>
							</tr>
							<tr>
								<td>Quarto padr√£o (/noite)</td>
								<td>1 Punhado</td>
							</tr>
							<tr>
								<td>Quarto de luxo (/noite)</td>
								<td>1 Saco</td>
							</tr>
							<tr>
								<td>Carro√ßa</td>
								<td>2 Punhados</td>
							</tr>
							<tr>
								<td>Montaria (cavalo, etc.</td>
								<td>3 Sacos</td>
							</tr>
							<tr>
								<td>Ferramentas especializadas</td>
								<td>3 Punhados</td>
							</tr>
							<tr>
								<td>Vestu√°rio refinado</td>
								<td>3 Punhados</td>
							</tr>
							<tr>
								<td>Vestu√°rio de luxo</td>
								<td>1 Saco</td>
							</tr>
							<tr>
								<td>Equipamento de Tier 1</td>
								<td>1 a 5 Punhados</td>
							</tr>
							<tr>
								<td>Equipamento de Tier 2</td>
								<td>1 a 2 Sacos</td>
							</tr>
							<tr>
								<td>Equipamento de Tier 3</td>
								<td>5 a 10 Sacos</td>
							</tr>
							<tr>
								<td>Equipamento de Tier 4</td>
								<td>1 a 2 Ba√∫s</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</section>
		<section class="group resources">
			<div class="inner">
				<div class="card">
					<h2><span class="hope">Hope</span></h2>
					<p>
						Pode ser adquirida em rolagens com <span class="hope">Hope</span><br>
						Cada jogador pode acumular at√© 6
					</p>
					<p>Pode ser gasta para:</p>
					<ul class="desc-list round">
						<li>Ajudar um aliado</li>
						<li>Usar uma experi√™ncia</li>
						<li>Ativar um recurso de classe</li>
						<li>Iniciar Tag Team Roll</li>
					</ul>
				</div>

				<div class="card">
					<h2>Trabalho em Equipe</h2>
					<ul class="desc-list">
						<li><strong>Ajudar um Aliado:</strong> Gaste 1 <span class="hope">Hope</span> e adicione 1d6 √† rolagem de outro jogador</li>
						<li>
							<strong>A√ß√£o em Grupo:</strong> O l√≠der faz uma rolagem de <span class="stronger">A√ß√£o</span><br>
							Os demais rolam <span class="stronger">Rea√ß√£o</span>, concedem ao l√≠der +1 ou -1
						</li>
						<li>
							<strong>Tag Team (Duplas):</strong> 1 vez por sess√£o. Custo: 3 <span class="hope">Hope</span><br>
							Ambos rolam <span class="stronger">A√ß√£o</span> e escolhem um resultado<br>
							(Para fins de <span class="hope">H</span>/<span class="fear">F</span>, s√£o duas rolagens identicas)<br>
							Ambos rolam <span class="stronger">Dano</span> e somam os resultado<br>
							(considerado como fonte √∫nica)
						</li>
					</ul>
				</div>
			</div>
			<div class="inner">
				<div class="card">
					<h2><span class="fear">Fear</span> & A√ß√µes do Mestre</h2>
					<p>O mestre pode ganhar <span class="fear">Fear</span> por diferentes meios e acumular at√© 12</p>
					<p>Pode ser usado para:</p>
					<ul>
						<li>Interromper jogadores</li>
						<li>Realizar a√ß√µes adicionais</li>
						<li>Ativar certos efeitos</li>
					</ul>
					<h3 id="m-action">A√ß√µes do Mestre</h3>
					<p>O Mestre pode realizar a√ß√µes narrativas ou passar o holofote para advers√°rios nas seguintes situa√ß√µes:</p>
					<ul>
						<li>Rolagem com <span class="fear">Fear</span></li>
						<li>Rolagem fracassada</li>
						<li>Consequ√™ncias de a√ß√µes</li>
						<li>Oportunidade narrativa</li>
					</ul>
				</div>
			</div>
			<div class="inner">
				<div class="card">
					<h2>Descanso</h2>
					<p>Podem trocar suas cartas de dom√≠nio sem custo</p>
					<p>Escolhe duas a√ß√µes, podendo repetir</p>

					<table>
						<thead>
							<tr>
								<th></th>
								<th>
									Descanso<br>
									Curto
								</th>
								<th>
									Descanso<br>
									Longo
								</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									<strong>Reparar<br>
									Armadura:</strong>
								</td>
								<td>
									1d4 +<span class="stronger">Tier</span><br>
									(aliado*)
								</td>
								<td>
									Toda<br>
									(aliado*)
								</td>
							</tr>

							<tr>
								<td>
									<strong>Tratar<br>
									Ferimentos:</strong>
								</td>
								<td>
									1d4 +<span class="stronger">Tier</span><br>
									(aliado*)
								</td>
								<td>
									Toda<br>
									(aliado*)
								</td>
							</tr>
							<tr>
								<td>
									<strong>Reduzir<br>
									Estresse:</strong>
								</td>
								<td>
									1d4 +<span class="stronger">Tier</span><br>
								</td>
								<td>
									Toda<br>
								</td>
							</tr>
							<tr>
								<td><strong>Preparar-se:</strong></td>
								<td>
									+1 <span class="hope">Hope</span><br>
									Em grupo:<br>
									+2 cada
								</td>
								<td>
									+1 <span class="hope">Hope</span><br>
									Em grupo:<br>
									+2 cada
								</td>
							</tr>
							<tr>
								<td><strong>Projeto:</strong></td>
								<td></td>
								<td>Avan√ßa um contador</td>
							</tr>
							<tr>
								<td><strong>"Custo"</strong> <span class="fear">Fear</span></td>
								<td>1d4</td>
								<td>1d4 +jogadores</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</section>
		<section class="group combat">
			<div class="inner">
				<div class="card">
					<h2>Gasto de <span class="fear">Fear</span> em encontros</h2>
					<ul class="desc-list round">
						<li><strong>Incidental (0-1):</strong> Cenas sociais ou de explora√ß√£o</li>
						<li><strong>Menor (1-3):</strong> Breve confronto</li>
						<li><strong>Padr√£o (2-4):</strong> Situa√ß√£o impactante; Viagem dif√≠cil</li>
						<li><strong>Maior (4-8):</strong> Batalha dif√≠cil com import√¢ncia narrativa</li>
						<li><strong>Clim√°tico (6-12):</strong> Batalha √©pica; Destino relevante</li>
					</ul>
				</div>
				<div class="card">
					<h2>Condi√ß√µes</h2>
					<ul class="desc-list round">
						<li><strong>Escondido:</strong> Rolagens contra voc√™ t√™m desvantagem</li>
						<li><strong>Vulner√°vel:</strong> Inimigos t√™m vantagem contra voc√™</li>
						<li><strong>Restringido:</strong> N√£o pode se mover, apenas agir</li>
					</ul>
				</div>
			</div>
			<div class="inner">
				<div class="card">
					<h2>A√ß√µes de combate</h2>
					<p>N√£o existe uma ordem para os jogadores</p>
					<p>Personagens podem se mover livremente at√© um local pr√≥ximo</p>
					<p>Al√©m disso podem escolher entre:</p>
					<ul>
						<li>Realizar um ataque</li>
						<li>Realizar uma a√ß√£o</li>
						<li>Limpar um efeito</li>
						<li>Andar uma dist√¢ncia maior</li>
					</ul>
				</div>

				<div class="card">
					<h2>A√ß√µes de Morte</h2>
					<ul class="desc-list">
						<li><strong>Evitar Morte:</strong> Inconsciente mas pode ser curado</li>
						<li><strong>Chama da Gl√≥ria:</strong> Uma a√ß√£o cr√≠tica antes de morrer</li>
						<li>
							<strong>Arriscar Tudo:</strong> Rola dualidade<br>
							<span class="hope">Hope</span>: recupera PV e/ou <span class="stronger">Estresse</span><br>
							<span class="fear">Fear</span>: Morte<br>
							<span class="crit">Cr√≠tico</span>: Recupera totalmente.
						</li>
					</ul>
					<p><span class="stronger">Cicatriz</span>: Perde 1 <span class="hope">Hope</span> permanentemente</p>
				</div>
			</div>
			<div class="inner">
				<div class="card">
					<h2>Padr√µes de Estat√≠sticas de Advers√°rios</h2>
					<table>
						<thead>
							<tr>
								<th>Tier</th>
								<th>Ataque</th>
								<th>Dano</th>
								<th>Evas√£o</th>
								<th>Limiar</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><strong>1</strong> (Lvl 1)</td>
								<td>+1</td>
								<td>
									1d6 +2<br>
									1d12 +4
								</td>
								<td>11</td>
								<td>7 / 12</td>
							</tr>
							<tr>
								<td><strong>2</strong> (Lvl 2-4)</td>
								<td>+2</td>
								<td>
									2d6 +3<br>
									2d12 +4
								</td>
								<td>14</td>
								<td>10 / 20</td>
							</tr>
							<tr>
								<td><strong>3</strong> (Lvl 5-7)</td>
								<td>+3</td>
								<td>
									3d8 +3<br>
									3d12 +5
								</td>
								<td>17</td>
								<td>20 / 32</td>
							</tr>
							<tr>
								<td><strong>4</strong> (Lvl 8-10)</td>
								<td>+4</td>
								<td>
									4d8 +10<br>
									4d12 +15
								</td>
								<td>20</td>
								<td>25 / 45</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="card">
					<h2>Alcance</h2>
					<table>
						<tr>
							<td><span class="stronger">Muito pr√≥ximo:</span> 3 metros</td>
							<td><span class="stronger">Dano:</span> 1d10+3</td>
						</tr>
						<tr>
							<td><span class="stronger">Pr√≥ximo:</span> 10 metros</td>
							<td><span class="stronger">Dano:</span> 1d20+5</td>
						</tr>
						<tr>
							<td><span class="stronger">Longe:</span> 30 metros</td>
							<td><span class="stronger">Dano:</span> 1d100+15</td>
						</tr>
						<tr>
							<td><span class="stronger">Muito longe:</span> 100 metros</td>
							<td><span class="stronger">Dano:</span> 1d100+15</td>
						</tr>
					</table>
				</div>
			</div>
		</section>
		<footer class="print-footer">
			<span class="stronger">Daggerheart GM Screen</span> <span class="stronger">by Jutier</span>
		</footer>
		<script>
			const body = document.getElementById("body");
			const sysDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
			const localPref = localStorage.getItem("theme");

			function toggleDark() {
				const isDark = body.classList.toggle("dark-mode");
				localStorage.setItem("theme", isDark ? "dark" : "light")
			};

			const goDark = localPref ? localPref === "dark" : sysDark;

			if (goDark) {
				toggleDark();
			}

			function newCard() {
				function handlePageClick(event) {
					// Catch miss-click
					if (event.target.closest('#add-card-btn')) return;

					// Find .inner
					let target = event.target;
					let inner;
					while (target && target !== document.body) {
						if (target.classList.contains('inner')) {
							inner = target;
							break;
						}
						target = target.parentElement;
					}
					// .inner not found
					if (!inner) {
						document.removeEventListener('click', handlePageClick);
						return;
					}

					// Determines relative position within .inner
					const cards = Array.from(inner.children);
					let closestChild = null;
					let minDist = Infinity;
					cards.forEach(child => {
						const rect = child.getBoundingClientRect();
						const centerX = rect.left + rect.width / 2;
						const centerY = rect.top + rect.height / 2;
						const dx = event.clientX - centerX;
						const dy = event.clientY - centerY;
						const dist = Math.sqrt(dx * dx + dy * dy);
						if (dist < minDist) {
							minDist = dist;
							closestChild = child;
						}
					});

					// .card element
					const card = document.createElement('div');
					card.className = 'card';
					const input = document.createElement('textarea');
					input.type = 'text';
					input.placeholder = '...';
					card.appendChild(input);

					if (closestChild) {
						const rect = closestChild.getBoundingClientRect();
						if (event.clientY < rect.top + rect.height / 2) {
							inner.insertBefore(card, closestChild);
						} else {
							inner.insertBefore(card, closestChild.nextSibling);
						}
					} else {
						// Empty .inner
						inner.appendChild(card);
					}
					document.removeEventListener('click', handlePageClick);
				}
				document.addEventListener('click', handlePageClick);
			}
		</script>
	</body>
</html>
